---
# PersistentVolumeClaim для хранения данных LDAP
# Эквивалент Docker: -v /var/ldap:/data
#
# В Kubernetes используется динамическое выделение хранилища через StorageClass.
# Каждый под StatefulSet автоматически получит свой собственный PVC.
#
# ВАЖНО: В этом файле показан пример структуры PVC.
# Реальные PVC будут созданы автоматически через volumeClaimTemplates в StatefulSet.
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: artds-data-artds-0
  namespace: artldap
  labels:
    app: artds
    component: storage
spec:
  accessModes:
    - ReadWriteOnce  # Один под, одна нода - аналог локального volume
  storageClassName: managed-nfs-storage
  resources:
    requests:
      storage: 1Gi
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: artds-data-artds-1
  namespace: artldap
  labels:
    app: artds
    component: storage
spec:
  accessModes:
    - ReadWriteOnce
  storageClassName: managed-nfs-storage
  resources:
    requests:
      storage: 1Gi
